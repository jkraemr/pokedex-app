let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=1118";function n(t){e.push(t)}function o(e){s();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){l(),e.imageUrl=t.sprites.front_default,e.weight=t.weight,e.height=t.height,e.types=t.types}).catch(function(e){l(),console.error(e)})}function i(e){o(e).then(function(){a(e)})}function a(e){let t=$(".modal-body"),n=$(".modal-title");n.empty(),t.empty();let o=e.name,i=document.createElement("img");i.src=e.imageUrl;let a=document.createElement("p"),s=document.createElement("p"),l=$(`<p> Type/s : ${e.types.map(e=>e.type.name).join(", ")}</p>`);e.weight>500?a.innerHTML='OMG â€“ That\'s a massive one. BEWARE: The mighty <span style="text-transform:capitalize">'+e.name+"</span>  weights "+e.weight+" hectograms!":e.weight<=500&&e.weight>=30?a.innerHTML='WOW! The <span style="text-transform:capitalize">'+e.name+"</span> has a considerable weight of "+e.weight+" hectograms!":a.innerHTML='HOW CUTE! The <span style="text-transform:capitalize">'+e.name+"</span>  has a rather light weight of "+e.weight+" hectograms!",s.innerText="Height: "+e.height+" decimetres",n.append(o),t.append(i),t.append(a),t.append(s),t.append(l)}function s(){document.getElementById("loader").style.visibility="visible",console.clear(),console.log("LOADING data from PokeAPI ...")}function l(){setTimeout(()=>{document.getElementById("loader").style.visibility="hidden"},500),setTimeout(()=>{console.log("DONE: Loading data successful.")},1e3)}return{getAll:function(){return e},add:n,addListItem:function(e){let t=document.querySelector(".poke-list"),n=document.createElement("li"),o=document.createElement("button");o.innerText=e.name,o.setAttribute("type","button"),o.setAttribute("data-toggle","modal"),o.setAttribute("data-target","#modalContainer"),o.classList.add("btn"),o.classList.add("btn-primary"),n.classList.add("p-2"),n.appendChild(o),t.appendChild(n),o.addEventListener("click",function(){i(e)})},loadList:function(){return s(),fetch(t).then(function(e){return e.json()}).then(function(e){l(),e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){l(),console.error(e)})},loadDetails:o,showDetails:i,showModal:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});
